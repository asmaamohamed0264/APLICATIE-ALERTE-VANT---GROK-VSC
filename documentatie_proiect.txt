GPT-5


PROMPT_START

PROPTUL COMPLET care include clar: prognozÄƒ pe urmÄƒtoarele 8 ore, clonÄƒ de UI dupÄƒ wind.qub3.uk, canalele fixe de notificare (Email Resend, Web Push, SMS prin Resend SMS, Inâ€‘App, Quiet hours), multiâ€‘utilizator cu prag per utilizator, multiâ€‘provider meteo (OpenWeatherMap + Openâ€‘Meteo), integrarea LLM Mistral Small 3.1 via OpenRouter (mesaje utile + glumÄƒ scurtÄƒ), logicÄƒ tehnicÄƒ detaliatÄƒ, API, DB/Prisma, Netlify, variabile de mediu È™i criterii de acceptare.

Titlu: Brief complet â€“ AplicaÈ›ie Alerte VÃ¢nt (Aleea SomeÈ™ul Cald, BucureÈ™ti) â€“ PrognozÄƒ 8 ore
Data/TZ: 06 septembrie 2025, 18:26, Europe/Bucharest (EEST)

Scop È™i obiective (clar)
AplicaÈ›ia prognozeazÄƒ viteza vÃ¢ntului pentru urmÄƒtoarele 8 ore È™i notificÄƒ utilizatorii cÃ¢nd prognoza depÄƒÈ™eÈ™te pragul ales de fiecare utilizator.
Zona È›intÄƒ: Aleea SomeÈ™ul Cald, BucureÈ™ti (geocodatÄƒ È™i salvatÄƒ).
Fiecare utilizator are propriul prag (slider 20â€“100 km/h) È™i propriile canale de notificare.
UI clonÄƒ fidelÄƒ a interfeÈ›ei wind.qub3.uk (dark dashboard, grafic 8 ore, slider prag, setÄƒri canale).
SursÄƒ meteo selectabilÄƒ: OpenWeatherMap sau Openâ€‘Meteo.
Mesajele de alertÄƒ sunt reformulate cu LLM Mistral Small 3.1 (via OpenRouter) pentru claritate È™i o scurtÄƒ glumÄƒ sigurÄƒ.
Stack È™i infrastructurÄƒ
Frontend: Next.js 14 (App Router), TypeScript, Tailwind CSS, Recharts (grafic 8h).
Backend: Next.js Route Handlers + Netlify Functions; Netlify Scheduled Functions (cron) pentru polling/alerte la 10 minute.
DB: PostgreSQL (Neon/Supabase sau Netlify Prisma Postgres), Prisma ORM.
NotificÄƒri (fixe):
Email: Resend (plan free ~3.000 email/lunÄƒ).
Web Push: browser native (VAPID).
SMS: Resend SMS (dacÄƒ disponibil Ã®n cont/region); fallback opÈ›ional Twilio. SMS livrat doar dacÄƒ activat de utilizator.
Inâ€‘App: dashboard intern (stocare Ã®n DB).
Quiet hours: interval de liniÈ™te configurabil per utilizator (ex. 22:00â€“07:00).
LLM: Mistral Small 3.1 24B via OpenRouter API (model ex. mistralai/mistral-small).
Hosting: Netlify; build: npx prisma migrate deploy && npm run build.
LOGICA METEO â€“ PrognozÄƒ pe urmÄƒtoarele 8 ore (ESENÈšIAL)
Obiectiv: genereazÄƒ o serie orarÄƒ de 8 puncte (t0..t0+7h) pentru vitezÄƒ È™i rafale, alimentÃ¢nd graficul È™i motorul de alerte.
3.1 AchiziÈ›ie È™i normalizare

Coordonate site: obÈ›inute o singurÄƒ datÄƒ prin geocodare (â€œAleea SomeÈ™ul Cald, Bucharest, ROâ€), salvate Ã®n Site.
Provider la alegere:
Openâ€‘Meteo: endpoint forecast cu hourly=temperature_2m,wind_speed_10m,wind_gusts_10m,relative_humidity_2m,pressure_msl, windspeed_unit=kmh, timezone=Europe/Bucharest. Date orare directe (fÄƒrÄƒ cheie).
OpenWeatherMap: current weather + 5 day/3 hour forecast cu units=metric&lang=ro (cheie necesarÄƒ). Conversie viteze: km/h = m/s Ã— 3.6.
Normalizare cÃ¢mpuri: tempC, windKmh, gustKmh?, humidity, pressureHpa, ts (unix sec).
3.2 Construire serie 8h (resampling/interpolare)

Aliniere timp: t0 = urmÄƒtoarea limitÄƒ de orÄƒ localÄƒ. Seria: t0, t0+1h, â€¦, t0+7h.
Openâ€‘Meteo: ia direct cele 8 valori orare pentru ferestrele t0..t0+7h.
OpenWeatherMap (3h â†’ 1h): pentru fiecare orÄƒ din cele 8, interpolare liniarÄƒ Ã®ntre punctele de 3h vecine, separat pentru windKmh È™i gustKmh.
Punctul â€œNowâ€ (opÈ›ional pentru header): foloseÈ™te current; Ã®n prima orÄƒ aplicÄƒ blend:
v_1h = 0.6 * v_now + 0.4 * v_forecast_1h; la fel pentru gustKmh (dacÄƒ existÄƒ).
MÄƒsura de risc pe orÄƒ: hazardKmh = max(windKmh, gustKmh || 0).
Netezire preventivÄƒ la extreme: moving max pe o fereastrÄƒ de 2 ore: hazard8h[i] = max(hazard[i], hazard[i+1] dacÄƒ existÄƒ) pentru a nu rata rafale scurte.
3.3 Evaluare per utilizator (prag personal)

thresholdKmh salvat per user (slider 20â€“100).
IdentificÄƒ:
firstCrossTs = prima orÄƒ din serie cÃ¢nd hazardKmh â‰¥ thresholdKmh.
peakKmh È™i peakTs Ã®n cele 8 ore.
Niveluri (opÈ›ional pentru UI/mesaje):
ATTENTION: peakKmh â‰¥ thresholdKmh È™i < max(70, thresholdKmh + 20).
SEVERE: peakKmh â‰¥ max(70, thresholdKmh + 20).
DacÄƒ nu existÄƒ depÄƒÈ™ire Ã®n 8 ore â†’ â€œNormalâ€ (nu trimite alertÄƒ, dar afiÈ™eazÄƒ prognoza).
3.4 Quiet hours, cooldown, dedupe

Quiet hours per user [quietStart, quietEnd] locale:
ATTENTION Ã®n interval de liniÈ™te â†’ amÃ¢nare pÃ¢nÄƒ la quietEnd (poÈ›i posta doar Inâ€‘App imediat).
SEVERE â†’ override liniÈ™tea, livreazÄƒ imediat (siguranÈ›Äƒ).
Cooldown per user: dupÄƒ Ã®nchiderea unui eveniment, nu reâ€‘alerta pe acelaÈ™i nivel mai devreme decÃ¢t cooldownMin (default 60 min).
Dedupe: dedupeKey = siteId:userId:level:bucket_ora, bucket = floor(firstCrossTs/3600); nu emite dacÄƒ existÄƒ eveniment â€œopenâ€ cu acelaÈ™i key.
UI â€“ ClonÄƒ detaliatÄƒ a https://wind.qub3.uk/ (dark)
StructurÄƒ È™i comportament:
Header (sticky):
StÃ¢nga: logo aplicaÈ›ie, titlu â€œMonitor VÃ¢nt Aleea SomeÈ™ul Caldâ€ + icon locaÈ›ie.
Dreapta: badge â€œOnlineâ€ (verde), text â€œUltima actualizare: HH:mm:ssâ€, buton ActualizeazÄƒ (manual refresh).
Panou AlertÄƒ de SiguranÈ›Äƒ (marquee):
StÄƒri: â€œPERICOL MAJOR DE VÃ‚NTâ€ (roÈ™u sever), â€œAtenÈ›ionare de vÃ¢ntâ€ (portocaliu), â€œNormalâ€ (verde discret).
ConÈ›inut: icon avertizare, sumar clar (viteza/rafale aÈ™teptate, ora estimatÄƒ), 3â€“5 recomandÄƒri de siguranÈ›Äƒ (bulleturi), indicator â€œNowâ€/â€œDanger levelâ€.
Borduri È™i umbre consistente cu tema; accent sever: #b91c1c; atenÈ›ionare: #ef4444/#f59e0b.
Card â€œCondiÈ›ii Actuale de VÃ¢ntâ€:
VitezÄƒ curentÄƒ (font mare), rafale, direcÈ›ie busolÄƒ + azimut (ex. W 270Â°).
Subtitlu cu locaÈ›ia È™i ora localÄƒ (ex. â€œAleea SomeÈ™ul Cald â€¢ 20:19â€).
Semnalizare vizualÄƒ dacÄƒ actualele depÄƒÈ™esc pragul utilizatorului.
Metrice auxiliare (grid 4):
TemperaturÄƒ (Â°C), Umiditate (%), Presiune (hPa), Vizibilitate (km).
Card â€œPrag de AlertÄƒâ€ (dreapta):
Slider 20â€“100 km/h; etichete: UÈ™or (20â€“40), Moderat (40â€“60), Puternic (60â€“80), Extrem (80â€“100).
Text explicativ â€œCum funcÈ›ioneazÄƒâ€: primeÈ™ti alerte dacÄƒ vitezele prognozate (inclusiv rafalele) depÄƒÈ™esc pragul tÄƒu Ã®n urmÄƒtoarele 8 ore.
AfiÈ™eazÄƒ valoarea curentÄƒ a pragului mare È™i coloratÄƒ.
SecÈ›iune â€œPrognozÄƒ VÃ¢nt 8 Oreâ€ (central/stÃ¢nga):
Grafic Recharts, axÄƒ X: ore locale (Now, +1hâ€¦+7h).
Serii: â€œViteza VÃ¢ntuluiâ€ (linie albastrÄƒ continuÄƒ), â€œRafale de VÃ¢ntâ€ (linie albastrÄƒ punctatÄƒ).
Linie Ã®ntreruptÄƒ galbenÄƒ la thresholdKmh (a utilizatorului).
LegendÄƒ, tooltip formatat ro, unitÄƒÈ›i km/h; subtitlu â€œUrmÄƒtoarele 8 ore â€¢ ActualizÄƒri la 3 ore (OWM) / orar (Openâ€‘Meteo)â€.
Sub grafic: 4â€“8 plÄƒcuÈ›e orare (ex. Now, 20:00, 21:00, 22:00â€¦) cu eticheta â€œAlertÄƒâ€ unde depÄƒÈ™eÈ™te pragul; altfel â€œNormalâ€.
ColoanÄƒ â€œSetÄƒri NotificÄƒriâ€ (dreapta):
Web Push: switch ON/OFF + â€œNotificÄƒrile push sunt activateâ€ + buton â€œTrimite Notificare de Testâ€.
Alerte SMS: input E.164 (+40â€¦), buton â€œConfigureazÄƒ SMSâ€.
Alerte Email: input email, buton â€œConfigureazÄƒ Emailâ€.
Quiet hours: douÄƒ time pickers (start/end locale), descriere cum se aplicÄƒ.
Panouri â€œAlerte Activeâ€ È™i â€œIstoric Alerteâ€:
Lista evenimentelor cu nivel, orÄƒ estimatÄƒ, vitezÄƒ max, canale livrate.
Footer:
â€œDate furnizate de OpenWeatherMap / Openâ€‘Meteo â€¢ ActualizÄƒri la 5â€“10 minuteâ€.
Atribuire/credit, disclaimere (pentru avertizÄƒri oficiale vezi ANM; urgenÈ›e 112).
NotÄƒ: UI se inspirÄƒ din dashboard-uri meteo scurte pe vÃ¢nt populare Ã®n industrie, similar cu prezentÄƒri de tip forecast orar/rafale vÄƒzute Ã®n paginile publice windy.app È™i secÈ›iuni de statistici/rafale windy.app, dar aplicaÈ›ia noastrÄƒ nu foloseÈ™te windy.app ca sursÄƒ de date.

Canale de notificare (fixe, cerute)
Email (Resend): volum free tipic ~3.000/lunÄƒ; conÈ›inut HTML + text, include logo È™i recomandÄƒri.
Web Push (VAPID): notificÄƒri browser native; Service Worker /sw.js.
SMS (Resend SMS): foloseÈ™te Resend pentru SMS (dacÄƒ disponibil pentru cont/È›arÄƒ). SpecificÄƒ sender (numÄƒr/alphanumeric) È™i respectÄƒ limite locale. Fallback opÈ›ional: Twilio pentru dezvoltare/prod dacÄƒ Resend SMS nu e disponibil.
Inâ€‘App: stocare Ã®n DB; afiÈ™are Ã®n panoul de notificÄƒri din UI.
Quiet hours: aplicate per utilizator conform regulilor din secÈ›iunea 3.4.
LLM pentru mesaje (Mistral Small 3.1 via OpenRouter)
Scop: redacteazÄƒ alertÄƒ Ã®n romÃ¢nÄƒ, scurtÄƒ, clarÄƒ; adaugÄƒ o glumÄƒ sigurÄƒ (1 propoziÈ›ie), discretÄƒ pentru nivel SEVERE.
Endpoint: https://openrouter.ai/api/v1/chat/completions; model ex. mistralai/mistral-small.
Prompt sistem:
Tu eÈ™ti un asistent de siguranÈ›Äƒ meteo. Redactezi alerte meteo Ã®n romÃ¢nÄƒ, concise, responsabile. La final, adaugÄƒ o glumÄƒ scurtÄƒ, neofensivÄƒ. Pentru SEVERE, gluma sÄƒ fie foarte discretÄƒ.
Prompt utilizator (variabile):
LocaÈ›ie: {siteName}, {address}; Provider: {providerName}; Nivel: {ATTENTION|SEVERE}; Interval/OrÄƒ: {whenLocal}; Prag user: {thresholdKmh} km/h; VitezÄƒ estimatÄƒ (max vitezÄƒ/rafale): {peakKmh} km/h; RecomandÄƒri: {bullets scurte}. Output: titlu scurt + 2â€“3 propoziÈ›ii + 1 glumÄƒ scurtÄƒ; fÄƒrÄƒ linkuri/markdown.
Filtrare/format:
SMS â‰¤ 450 caractere; Web Push: max 2 propoziÈ›ii + glumÄƒ; Email: extins (poate include bullets).
Fallback static dacÄƒ OpenRouter nu rÄƒspunde. Nu trimite PII (email/telefon) cÄƒtre model.
Date, modele È™i API
7.1 Prisma (schemÄƒ esenÈ›ialÄƒ)

Enum: Role { USER, ADMIN }, Channel { EMAIL, WEB_PUSH, SMS, IN_APP }, AlertLevel { ATTENTION, SEVERE }, WeatherProvider { OWM, OPEN_METEO }.
Site { id, name, address, lat, lon, timezone="Europe/Bucharest", defaultProvider }.
User { id, email, phoneE164?, role, thresholdKmh (default 50), hysteresisKmh (5), cooldownMin (60), quietStart?, quietEnd?, weatherProvider? }.
WebPushSubscription { id, userId?, endpoint unique, p256dh, auth }.
NotificationChannelPreference { id, userId, channel, enabled, quietStart?, quietEnd?, unique(userId, channel) }.
AlertEvent { id, level, siteId, userId, source "current|forecast", forecastAt?, startedAt, endedAt?, status "open|closed", peakKmh?, dedupeKey unique }.
Notification { id, userId, alertEventId, channel, status "sent|failed|skipped", error?, sentAt }.
7.2 Rute API

GET /api/forecast8h?provider=owm|open-meteo â†’ { site, provider, current, series8h: [{ts, windKmh, gustKmh?, hazardKmh}], metrics }.
PUT /api/settings â†’ salveazÄƒ thresholdKmh, canale active, quietStart/quietEnd, weatherProvider.
POST /api/subscribe-webpush â†’ salveazÄƒ endpoint È™i chei pentru userul curent.
GET /api/notifications/in-app â†’ listarea notificÄƒrilor userului.
POST /api/test-notification â†’ declanÈ™eazÄƒ un mesaj de test ATTENTION cu threshold curent (folosit de UI).
GET /api/health â†’ verificÄƒ DB, chei È™i coordonate.
7.3 FuncÈ›ie programatÄƒ (Netlify Scheduled Function â€“ la 10 minute)

Pentru fiecare provider folosit de cel puÈ›in un utilizator:
Fetch current + forecast (OWM/OM) cu caching 5â€“10 min.
ConstruieÈ™te seria 8h: resampling/interpolare/blend.
Pentru fiecare utilizator din grupul acelui provider:
EvalueazÄƒ hazard8h vs thresholdKmh.
DacÄƒ depÄƒÈ™eÈ™te Ã®n 8h â†’ creeazÄƒ/actualizeazÄƒ AlertEvent (dedupe + cooldown).
GenereazÄƒ text prin LLM (fallback static).
LivreazÄƒ pe canalele active (respectÃ¢nd quiet hours) È™i Ã®nregistreazÄƒ Ã®n Notification.
InteracÈ›iuni cheie Ã®n UI (clone wind.qub3.uk)
Slider â€œPrag de AlertÄƒâ€: persistÄƒ instant la schimbare (debounce 300 ms, PATCH la /api/settings).
Switch Web Push: la ON â†’ Ã®nregistreazÄƒ Service Worker È™i PushSubscription, POST la /api/subscribe-webpush.
â€œTrimite Notificare de Testâ€: POST la /api/test-notification; afiÈ™eazÄƒ toast + Inâ€‘App.
SMS/Email: validÄƒri (E.164, RFC 5321), butoane â€œConfigureazÄƒâ€ trimit update la /api/settings È™i fac un test opÈ›ional.
Grafic: la hover, tooltip aratÄƒ vÃ¢nt/rafale/hazard È™i label â€œAlertÄƒâ€ dacÄƒ peste prag.
Banner â€œMod simulareâ€ dacÄƒ USE_MOCK_WEATHER=true.
Variabile de mediu
DATABASE_URL
OPENWEATHER_API_KEY
RESEND_API_KEY (Email + SMS prin Resend SMS, dacÄƒ disponibil)
VAPID_PUBLIC_KEY, VAPID_PRIVATE_KEY, NEXT_PUBLIC_VAPID_PUBLIC_KEY
OPENROUTER_API_KEY
RESEND_SMS_FROM (sau sender ID/numÄƒr alocat de Resend SMS)
DEFAULT_WEATHER_PROVIDER=owm|open-meteo (fallback)
USE_MOCK_WEATHER=true|false
Netlify È™i build
netlify.toml:
[build] command = "npx prisma migrate deploy && npm run build", publish = ".next".
[[plugins]] package = "@netlify/plugin-nextjs".
Cron: funcÈ›ie programatÄƒ */10 * * * * (polling 10 minute).
Prisma Client singleton Ã®n cod; pooling DB recomandat (foloseÈ™te Prisma Postgres de la Netlify sau un provider cu pooling).
Mesageria pe canale (rezumat operare)
Email (Resend): HTML concis, titlu, interval orÄƒ, viteze estimare, recomandÄƒri. AdaugÄƒ logo È™i link â€œdezabonareâ€ per canal.
Web Push: titlu + 1â€“2 propoziÈ›ii + glumÄƒ scurtÄƒ; icon: /alert-logo.png.
SMS (Resend SMS): text â‰¤ 450 caractere, fÄƒrÄƒ linkuri, accent pe orÄƒ, prag, vitezÄƒ È™i acÈ›iune de siguranÈ›Äƒ.
Inâ€‘App: persistÄƒ payload-ul Ã®n Notification, randat Ã®n panoul UI.
Quiet hours: ATTENTION amÃ¢nat; SEVERE trimis imediat.
Testare È™i criterii de acceptare
Teste unitare:
Resampling OWM 3h â†’ 1h; blend cu â€œcurrentâ€ pentru prima orÄƒ.
Calcul hazardKmh, firstCrossTs, peakKmh.
Quiet hours, cooldown, dedupe.
Integrare:
Cron cu USE_MOCK_WEATHER=true È™i un dataset care depÄƒÈ™eÈ™te pragurile.
LLM on/off (fallback static).
E2E:
Utilizator Ã®È™i seteazÄƒ pragul, activeazÄƒ canale, primeÈ™te alertÄƒ doar cÃ¢nd seria 8h Ã®i depÄƒÈ™eÈ™te pragul.
Acceptare:
UI cloneazÄƒ clar secÈ›iunile È™i comportamentele wind.qub3.uk.
Seria afiÈ™atÄƒ È™i logica de alertÄƒ sunt STRICT pentru urmÄƒtoarele 8 ore.
Canalele: Email (Resend), Web Push, SMS (Resend SMS), Inâ€‘App. Quiet hours respectate.
ConsideraÈ›ii suplimentare
Multiâ€‘provider: UI poate comuta vizualizarea; alertele ruleazÄƒ pe providerul preferat al utilizatorului (dacÄƒ setat) sau pe default-ul site-ului.
Rateâ€‘limit È™i retry la furnizorii meteo; caching 5â€“10 min pentru a reduce apelurile.
GDPR: consimÈ›ÄƒmÃ¢nt, dezabonare per canal, drept de È™tergere, minimizare date (email, telefon opÈ›ional), retenÈ›ie loguri 30 zile, notificÄƒri 90 zile.
Disclaimer: aplicaÈ›ia nu Ã®nlocuieÈ™te avertizÄƒrile oficiale; pentru urgenÈ›e, apel 112.
ReferinÈ›e context (UI/industrie)

Dashboard-uri publice pentru vÃ¢nt pun accent pe vizualizÄƒri orare È™i rafale; exemple de pagini cu prognoze/statistici la scarÄƒ scurtÄƒ pe vÃ¢nt: windy.app, windy.app. Acestea sunt doar referinÈ›e de prezentare, nu surse de date pentru aplicaÈ›ia noastrÄƒ.
PROMPT_END

NotÄƒ: DacÄƒ vrei, pot livra È™i pseudoâ€‘cod pentru funcÈ›iile buildEightHourSeries() (interpolare + blend) È™i evaluateUserThresholds() sau un schelet de proiect cu rutele/API È™i UI gata de clonÄƒ.



Gemeni 2.5 PRO:

==================================================================================
        DOCUMENTATIE TEHNICA COMPLETA - APLICATIE "GRAND ARENA WIND MONITOR"
==================================================================================

PROIECT: Grand Arena Wind Monitor (ClonÄƒ funcÈ›ionalÄƒ a wind.qub3.uk)
DATA GENERÄ‚RII: 06 septembrie 2025
VERSIUNE DOCUMENT: 4.0 (Final UI & Logic Definition)
SCOP: Document unic, complet È™i final de specificaÈ›ii tehnice, UI/UX, arhitecturÄƒ È™i
      implementare pentru dezvoltarea aplicaÈ›iei, cu accent pe logica de prognozÄƒ
      pe 8 ore È™i descrierea detaliatÄƒ a interfeÈ›ei.

----------------------------------------------------------------------------------
1. VIZIUNE DE ANSAMBLU È˜I CONCEPT
----------------------------------------------------------------------------------

Dezvoltarea unei aplicaÈ›ii web multi-user, care cloneazÄƒ fidel aspectul È™i
funcÈ›ionalitatea `wind.qub3.uk`. AplicaÈ›ia este un instrument de alertare proactivÄƒ,
specializat Ã®n monitorizarea **prognozei de vÃ¢nt pentru urmÄƒtoarele 8 ore**
Ã®ntr-o locaÈ›ie specificÄƒ (Aleea SomeÈ™ul Cald, BucureÈ™ti). Utilizatorii Ã®È™i seteazÄƒ
un prag de alertÄƒ personal, iar sistemul Ã®i notificÄƒ Ã®n avans dacÄƒ se prognozeazÄƒ
depÄƒÈ™irea acestui prag. Alertele sunt Ã®mbogÄƒÈ›ite cu mesaje creative generate de
modelul AI Mistral È™i livrate pe multiple canale (Email, SMS, Web Push, In-App).


----------------------------------------------------------------------------------
2. DESCRIERE DETALIATÄ‚ A INTERFEÈšEI UI (ClonÄƒ fidelÄƒ a wind.qub3.uk)
----------------------------------------------------------------------------------

InterfaÈ›a va fi un dashboard "single-page" cu o temÄƒ Ã®ntunecatÄƒ (dark mode),
structuratÄƒ pentru a oferi o imagine de ansamblu rapidÄƒ È™i controale intuitive.

A. HEADER (Antet):
   - StÃ¢nga: Logo-ul aplicaÈ›iei (imaginea furnizatÄƒ) urmat de titlul "Monitor VÃ¢nt Aleea SomeÈ™ul Cald".
   - Dreapta:
     - Indicator de Stare: PictogramÄƒ Wi-Fi verde cu textul "Online".
     - Timestamp: "Ultima actualizare: HH:MM:SS PM".
     - Buton Principal: Un buton cu fundal Ã®ntunecat È™i textul "[ActualizeazÄƒ]", avÃ¢nd o pictogramÄƒ de reÃ®ncÄƒrcare.

B. PANOU DE ALERTÄ‚ ACTIVÄ‚ (CondiÈ›ional):
   - Vizibilitate: Acest panou apare Ã®n partea de sus a conÈ›inutului principal DOAR atunci cÃ¢nd o alertÄƒ majorÄƒ este activÄƒ.
   - Design: Un container cu fundal roÈ™u-Ã®nchis È™i chenar roÈ™u.
   - ConÈ›inut:
     - Titlu Principal: PictogramÄƒ de avertizare (triunghi) urmatÄƒ de textul "PERICOL MAJOR DE VÃ‚NT".
     - Descriere: Text explicativ, ex: "DANGER: VÃ¢nt extrem prognozat! Viteze peste [X] km/h...".
     - Metrici EvidenÈ›iate: 3 coloane care afiÈ™eazÄƒ Viteza MaximÄƒ, Starea (Now - Activ Ã®n prezent) È™i Nivelul de Pericol (DANGER).
     - RecomandÄƒri: O sub-secÈ›iune "RecomandÄƒri de SiguranÈ›Äƒ" cu o listÄƒ de sfaturi practice (ex: "RÄƒmÃ¢i Ã®n interior...", "FixeazÄƒ obiectele mobile...").

C. PANOU CONDIÈšII ACTUALE & METEO GENERAL:
   - Card Principal: Un card proeminent cu titlul "CondiÈ›ii Actuale de VÃ¢nt" È™i locaÈ›ia.
     - Valori Mari: "45 km/h" pentru Viteza VÃ¢ntului È™i "55 km/h" pentru Rafale.
     - Indicator DirecÈ›ie: O pictogramÄƒ sÄƒgeatÄƒ verde care indicÄƒ direcÈ›ia (ex: "W") È™i gradele ("270Â°").
   - Carduri Secundare: O grilÄƒ de 4 carduri mai mici, fiecare cu pictograma È™i unitatea sa de mÄƒsurÄƒ:
     - TemperaturÄƒ (ex: 22Â°C)
     - Umiditate (ex: 60%)
     - Presiune (ex: 1013 hPa)
     - Vizibilitate (ex: 10 km)

D. PANOU PROGNOZÄ‚ VÃ‚NT 8 ORE (Elementul central):
   - Titlu: "PrognozÄƒ VÃ¢nt 8 Ore" cu un subtitlu informativ, ex: "UrmÄƒtoarele 8 ore â€¢ ActualizÄƒri la fiecare 3 ore".
   - Grafic Liniar: O reprezentare vizualÄƒ a prognozei pe axa timpului (orizontal) È™i a vitezei (vertical).
     - Axa X (Timp): Etichete orare pentru urmÄƒtoarele 8 ore (ex: Now, 21:00, 22:00 ... 02:00).
     - Axa Y (VitezÄƒ): Etichete pentru viteza vÃ¢ntului Ã®n km/h.
     - Serii de Date Reprezentate:
       1. Viteza VÃ¢ntului (linie continuÄƒ, albastrÄƒ).
       2. Rafale de VÃ¢nt (linie punctatÄƒ, albastrÄƒ deschis).
       3. Prag de AlertÄƒ (linie Ã®ntreruptÄƒ, galbenÄƒ) - O linie orizontalÄƒ care reflectÄƒ valoarea setatÄƒ de utilizator Ã®n panoul lateral.
   - Tabel Sumar sub Grafic: Patru carduri care afiÈ™eazÄƒ valorile numerice pentru primele ore ale prognozei (ex: "Now: 50 km/h", "21:00: 52 km/h", etc.).

E. PANOU DE CONTROL LATERAL (Dreapta):
   - Card "Prag de AlertÄƒ":
     - Un slider interactiv pe care utilizatorul Ã®l poate glisa pentru a-È™i seta pragul de alertÄƒ (Ã®ntre 20 km/h È™i 100 km/h).
     - Valoarea selectatÄƒ este afiÈ™atÄƒ numeric deasupra slider-ului.
   - Card "Cum funcÈ›ioneazÄƒ": Un text static explicativ care trebuie sÄƒ sublinieze clar logica aplicaÈ›iei: "Vei primi alerte cÃ¢nd vitezele vÃ¢ntului **prognozate** (inclusiv rafalele) depÄƒÈ™esc pragul selectat Ã®n **urmÄƒtoarele 8 ore**...".
   - Card "SetÄƒri NotificÄƒri": Panou dedicat configurÄƒrii canalelor de alertÄƒ.
     - "NotificÄƒri Push Browser": Un comutator (toggle) pentru activare/dezactivare È™i un buton "[Trimite Notificare de Test]".
     - "Alerte SMS": Un cÃ¢mp de introducere pentru numÄƒrul de telefon È™i un buton "[ConfigureazÄƒ SMS]".
     - "Alerte Email": Un cÃ¢mp de introducere pentru adresa de email È™i un buton "[ConfigureazÄƒ Email]".

F. FOOTER (Subsol):
   - InformaÈ›ii despre sursa datelor, credite È™i un avertisment ANM.


----------------------------------------------------------------------------------
3. LOGICA FUNDAMENTALÄ‚ (PROGNOZÄ‚ PROACTIVÄ‚ PE 8 ORE)
----------------------------------------------------------------------------------

Acesta este mecanismul central al aplicaÈ›iei. Sistemul NU alerteazÄƒ pe baza vÃ¢ntului curent,
ci funcÈ›ioneazÄƒ PROACTIV, analizÃ¢nd **prognoza meteo pentru urmÄƒtoarele 8 ore**
pentru a oferi utilizatorilor timp de pregÄƒtire.

1.  **SCANARE PROGRAMATÄ‚**: O funcÈ›ie serverless (`check-alerts`) ruleazÄƒ automat la intervale regulate (ex: 30 minute).

2.  **PRELUARE PROGNOZÄ‚**: FuncÈ›ia apeleazÄƒ un API meteo (OpenWeatherMap/Open-Meteo) È™i obÈ›ine prognoza ORA-CU-ORA, incluzÃ¢nd viteza vÃ¢ntului È™i a rafalelor, pentru un interval de cel puÈ›in 8 ore.

3.  **ITERARE PRIN UTILIZATORI**: Functia preia din baza de date lista tuturor utilizatorilor È™i setÄƒrile lor individuale.

4.  **ANALIZA PROGNOZEI PE 8 ORE PENTRU FIECARE UTILIZATOR**: Pentru fiecare utilizator, sistemul scaneazÄƒ primele 8 intrÄƒri din prognoza orarÄƒ È™i cautÄƒ **prima orÄƒ** Ã®n care viteza vÃ¢ntului sau a rafalelor **va depÄƒÈ™i** pragul setat de acel utilizator (`user.alertThreshold`).

5.  **PREVENIREA SPAM-ULUI**: O alertÄƒ se trimite NUMAI DACÄ‚ o depÄƒÈ™ire a pragului este gÄƒsitÄƒ Ã®n prognoza pe 8 ore È˜I NU s-a mai trimis o alertÄƒ pentru acest eveniment Ã®n ultimele ore (se verificÄƒ un timestamp `lastAlertSentAt` Ã®n baza de date).

6.  **DECLANÈ˜ARE NOTIFICARE**: DacÄƒ o alertÄƒ validÄƒ este identificatÄƒ, sistemul extrage datele evenimentului prognozat (ex: "Rafale de 85 km/h prognozate la ora 02:00"), le trimite cÄƒtre modelul AI Mistral pentru a genera un mesaj, distribuie mesajul final pe canalele active ale utilizatorului È™i actualizeazÄƒ timestamp-ul `lastAlertSentAt`.


----------------------------------------------------------------------------------
4. NOTIFICÄ‚RI MULTI-CANAL (SPECIFICAÈšII FURNIZOR)
----------------------------------------------------------------------------------

-   **Email**: Se va folosi **Resend**. Planul gratuit (3000 de emailuri/lunÄƒ) este ideal pentru pornire. Template-urile de email vor include logo-ul aplicaÈ›iei.
-   **SMS**: Se va folosi **Resend**. Serviciul lor include suport pentru trimiterea de SMS-uri.
-   **Web Push Notifications**: Se vor folosi API-urile native ale browser-ului (Push API, Notifications API). Nu necesitÄƒ un serviciu extern plÄƒtit.
-   **In-App Notifications**: Mesajele de alertÄƒ vor fi afiÈ™ate È™i Ã®n Panoul Principal de AlertÄƒ din interfaÈ›Äƒ.

*NotÄƒ: Modelul de date din Prisma va stoca adresa de email, numÄƒrul de telefon È™i obiectul de subscriere push pentru fiecare utilizator.*


----------------------------------------------------------------------------------
5. STACK, SCHEMÄ‚ DB, INTEGRARE AI, ASSETS È˜I VARIABILE DE MEDIU
----------------------------------------------------------------------------------
(Aceste secÈ›iuni rÄƒmÃ¢n conform versiunii 3.0, fiind deja aliniate la cerinÈ›ele proiectului)

- **Stack Tehnologic**: Next.js, TypeScript, Tailwind CSS, Netlify, PostgreSQL, Prisma, OpenWeatherMap/Open-Meteo, Resend, OpenRouter.ai.
- **Schema Bazei de Date (Prisma)**: Va include `alertThreshold`, `lastAlertSentAt`, cÃ¢mpuri pentru email/telefon/push, È™i setÄƒri pentru ore de liniÈ™te.
- **Integrare Model LLM (Mistral)**: FuncÈ›ia `generateFunnyAlert` va primi datele **prognozate** È™i va genera un JSON cu titlu, mesaj È™i o glumÄƒ contextualÄƒ.
- **Assets È™i Branding**: Logo-ul furnizat va fi folosit ca favicon, Ã®n header È™i Ã®n template-urile de email.
- **Variabile de Mediu**: Chei API pentru `DATABASE_URL`, `OPENWEATHER_API_KEY`, `OPENROUTER_API_KEY`, È™i `RESEND_API_KEY`.


Claude Sonnet 4


================================================================================
                    APLICAÈšIE WEB ALERTE METEOROLOGICE PREVENTIVE
               MONITOR VÃ‚NT ALEEA SOMEÈ˜UL CALD, BUCUREÈ˜TI
          CLONÄ‚ EXACTÄ‚ https://wind.qub3.uk/ CU PROGNOZÄ‚ 8 ORE PREVENTIVÄ‚
================================================================================

ğŸ“… Data: 06 septembrie 2025, 18:26 EEST
ğŸ¯ Obiectiv: ClonÄƒ exactÄƒ https://wind.qub3.uk/ cu sistem preventiv de alerte personalizate
ğŸ“ LocaÈ›ie: Aleea SomeÈ™ul Cald, BucureÈ™ti, RomÃ¢nia (44.4268, 26.1025)
ğŸ”® PROGNOZÄ‚: Strict 8 ORE viitoare (ca pe wind.qub3.uk)
ğŸ¤– AI: Mistral Small 3.1 24B prin OpenRouter.ai pentru mesaje preventive amuzante
ğŸ“± SMS: Resend (nu Twilio) pentru toate notificÄƒrile incluzÃ¢nd SMS
ğŸ¨ UI: Reproducere pixel-perfect a https://wind.qub3.uk/

================================================================================
                           LOGICA FUNDAMENTALÄ‚ PREVENTIVÄ‚
================================================================================

ğŸ”® PRINCIPIUL DE FUNCÈšIONARE (identic wind.qub3.uk):

PROGNOZÄ‚ PREVENTIVÄ‚ 8 ORE:
- AplicaÈ›ia analizeazÄƒ CONTINUU prognoza pentru urmÄƒtoarele EXACT 8 ORE (nu mai mult)
- Graficul afiÈ™eazÄƒ timeline: Now â†’ 8 ore Ã®n viitor cu puncte la fiecare orÄƒ
- CÃ¢nd ORICE punct din prognozÄƒ depÄƒÈ™eÈ™te pragul personal â†’ alertÄƒ preventivÄƒ ÃNAINTE
- Utilizatorii sunt avertizaÈ›i cu ORE ÃNAINTE sÄƒ se pregÄƒteascÄƒ

EXEMPLU CONCRET:

Ora actualÄƒ: 20:00
VÃ¢nt actual: 45 km/h (SUB pragul de 60 km/h)
Pragul personal: 60 km/h

PrognozÄƒ urmÄƒtoarele 8 ore (20:00 â†’ 04:00):
20:00 (Now): 45 km/h âœ…
21:00: 52 km/h âœ…
22:00: 58 km/h âœ…
23:00: 67 km/h âŒ PESTE PRAG!
00:00: 72 km/h âŒ PESTE PRAG!
01:00: 65 km/h âŒ PESTE PRAG!
02:00: 58 km/h âœ…
03:00: 50 km/h âœ…
04:00: 45 km/h âœ…

ğŸš¨ ACÈšIUNE PREVENTIVÄ‚ la 20:00:
"ATENÈšIE! Ãn 3 ore (23:00) vÃ¢ntul va atinge 67 km/h, depÄƒÈ™ind pragul tÄƒu de 60 km/h!
Perioada criticÄƒ: 23:00-01:00. VÃ¢ntul face spectacol de dans! ğŸ’ƒ PregÄƒteÈ™te balconul din timp!"



ALGORITM ALERTÄ‚:
1. âœ… Fetch prognozÄƒ EXACT 8 ore (8 puncte de date orare)
2. âœ… Pentru fiecare utilizator: comparÄƒ FIECARE punct cu pragul sÄƒu personal  
3. âœ… DacÄƒ oricare > prag â†’ calculeazÄƒ cÃ¢nd, cÃ¢t timp, genereazÄƒ mesaj AI preventiv
4. âœ… Trimite pe toate canalele activate (Email, SMS, Push, In-app prin Resend)
5. âœ… O singurÄƒ alertÄƒ per "eveniment de vÃ¢nt" (anti-spam)

================================================================================
                      DESCRIERE DETALIATÄ‚ INTERFAÈšÄ‚ UI WIND.QUB3.UK
================================================================================

ğŸ¨ CLONÄ‚ EXACTÄ‚ DESIGN WIND.QUB3.UK:

DIMENSIUNI È˜I LAYOUT:
- Viewport: Full-screen dark interface
- Container principal: max-width 1400px, centrat
- Layout: 75% main content (stÃ¢nga) + 25% sidebar (dreapta)
- Gap Ã®ntre elemente: 16px consistent
- Border radius: 8px pentru toate cardurile
- Shadows: subtle dark shadows pentru depth

COLOR PALETTE EXACT:
```css
:root {
  --bg-primary: #1a1d29;        /* Background principal */
  --bg-secondary: #2a2d3a;      /* Background carduri */
  --bg-tertiary: #374151;       /* Background inputs */
  --text-primary: #f1f5f9;      /* Text alb */
  --text-secondary: #94a3b8;    /* Text gri secondary */
  --text-muted: #64748b;        /* Text foarte gri */
  --border-color: #374151;      /* Borders carduri */
  --accent-blue: #3b82f6;       /* Albastru primary */
  --accent-green: #10b981;      /* Verde success */
  --accent-yellow: #f59e0b;     /* Galben warning */
  --accent-orange: #f97316;     /* Portocaliu alert */
  --accent-red: #ef4444;        /* RoÈ™u danger */
  --accent-purple: #8b5cf6;     /* Mov pentru butoane */
}


ğŸ“± HEADER PRINCIPAL:


Height: 60px
Background: var(--bg-secondary)
Border-bottom: 1px solid var(--border-color)

Layout: flex justify-between items-center px-6
â”œâ”€ STÃ‚NGA:
â”‚  â”œâ”€ Logo icon: 32x32px wind symbol (albastru)
â”‚  â”œâ”€ Titlu: "Monitor VÃ¢nt Aleea SomeÈ™ul Cald"
â”‚  â”‚  Font: 20px, semi-bold, var(--text-primary)
â”‚  â””â”€ Status: "ğŸŸ¢ Online" (12px, var(--accent-green))
â””â”€ DREAPTA:
   â”œâ”€ "Ultima actualizare: 8:04:29 PM"
   â”‚  Font: 14px, var(--text-secondary)
   â””â”€ Buton "ğŸ”„ ActualizeazÄƒ"
      Style: 32x32px, var(--accent-blue), hover effect
ğŸŒªï¸ SECÈšIUNEA ALERTE PRINCIPALE:


CondiÈ›ie: AfiÈ™at DOAR cÃ¢nd existÄƒ alertÄƒ activÄƒ
Height: variabilÄƒ (min 120px)
Background: gradient bazat pe severitate
â”œâ”€ VERDE (sub prag): linear-gradient(135deg, #10b981 0%, #059669 100%)
â”œâ”€ GALBEN (aproape): linear-gradient(135deg, #f59e0b 0%, #d97706 100%)  
â”œâ”€ PORTOCALIU (peste): linear-gradient(135deg, #f97316 0%, #ea580c 100%)
â””â”€ ROÈ˜U (mult peste): linear-gradient(135deg, #ef4444 0%, #dc2626 100%)

Content Layout:
â”œâ”€ Header: Flex justify-between
â”‚  â”œâ”€ Icon alertÄƒ: âš ï¸ (24px)
â”‚  â”œâ”€ Titlu: "PERICOL MAJOR DE VÃ‚NT" (24px, bold)
â”‚  â””â”€ Timp: "Now" badge
â”œâ”€ Descriere: Mesaj AI generat (16px, line-height 1.5)
â”œâ”€ Grid Info: 3 coloane
â”‚  â”œâ”€ "km/h" - Viteza MaximÄƒ
â”‚  â”œâ”€ "Now" - Activ Ã®n prezent  
â”‚  â””â”€ "DANGER" - Nivel AlertÄƒ
â””â”€ Lista recomandÄƒri:
   "â€¢ RÄƒmÃ¢i Ã®n interior È™i evitÄƒ activitÄƒÈ›ile Ã®n aer liber"
   "â€¢ FixeazÄƒ sau Ã®ndepÄƒrteazÄƒ obiectele mobile din exterior" 
   "â€¢ EvitÄƒ conducerea, Ã®n special a vehiculelor Ã®nalte"
   "â€¢ Stai departe de ferestre È™i copaci"
ğŸ“Š DASHBOARD PRINCIPAL (2 coloane):

STÃ‚NGA - CARD "ğŸŒªï¸ CondiÈ›ii Actuale de VÃ¢nt":


Width: 65% din main content
Height: 200px
Background: var(--bg-secondary)
Border: 2px solid (verde/galben/roÈ™u bazat pe status)

Layout: Grid 2x2
â”œâ”€ TOP-LEFT: Viteza VÃ¢ntului
â”‚  â”œâ”€ NumÄƒr: "45" (72px, font-weight 700, var(--accent-blue))
â”‚  â”œâ”€ Unitate: "km/h" (16px, var(--text-secondary))
â”‚  â””â”€ Label: "Viteza VÃ¢ntului (km/h)" (12px)
â”‚  â””â”€ Status: "VÃ¢nt puternic" (12px, italic)
â”œâ”€ TOP-RIGHT: Rafale
â”‚  â”œâ”€ NumÄƒr: "55" (72px, font-weight 700, var(--accent-blue))
â”‚  â”œâ”€ Unitate: "km/h" (16px, var(--text-secondary))
â”‚  â””â”€ Label: "Rafale (km/h)" (12px)
â”‚  â””â”€ Status: "CondiÈ›ii cu rafale" (12px, italic)
â”œâ”€ BOTTOM-CENTER: DirecÈ›ie VÃ¢nt
â”‚  â”œâ”€ SÄƒgeatÄƒ: Verde rotitÄƒ la wind direction
â”‚  â”œâ”€ Text: "W" (24px, bold, verde)
â”‚  â””â”€ Grade: "270Â°" (14px, var(--text-secondary))
â””â”€ FOOTER: 
   "ğŸ“ Aleea SomeÈ™ul Cald â€¢ 20:39" (12px, var(--text-muted))
DREAPTA - CARD "âš ï¸ Prag de AlertÄƒ":


Width: 35% din main content  
Height: 200px
Background: var(--bg-secondary)

Layout:
â”œâ”€ Valoare mare: "100" (60px, culoare bazatÄƒ pe risc)
â”‚  â””â”€ Unitate: "km/h" (16px)
â”œâ”€ Status text: "Minimal - doar vÃ¢nturi extreme" (14px)
â”œâ”€ Slider: Range 20-100 km/h
â”‚  â”œâ”€ Track: var(--bg-tertiary)
â”‚  â”œâ”€ Thumb: var(--accent-blue), 20px diameter  
â”‚  â””â”€ Labels: "20 km/h", "UÈ™or", "Moderat", "Puternic", "100 km/h"
â””â”€ ExplicaÈ›ie: "Cum funcÈ›ioneazÄƒ: Vei primi alerte cÃ¢nd vitezele..."
   Font: 12px, var(--text-muted), line-height 1.4
ğŸŒ¡ï¸ GRID INFORMAÈšII SUPLIMENTARE (4 coloane):


Width: 100% main content
Height: 120px  
Gap: 16px Ã®ntre carduri

Card Template:
â”œâ”€ Width: 25% minus gaps
â”œâ”€ Background: var(--bg-secondary)  
â”œâ”€ Padding: 20px
â”œâ”€ Text-align: center
â”œâ”€ Icon: 32px, var(--accent-blue) (top)
â”œâ”€ Valoare: 36px, font-weight 600 (middle)
â”œâ”€ Label: 14px, var(--text-secondary) (bottom)

Carduri:
â”œâ”€ TEMPERATURÄ‚: ğŸŒ¡ï¸ "22Â°C" "TemperaturÄƒ"
â”œâ”€ UMIDITATE: ğŸ’§ "60%" "Umiditate"  
â”œâ”€ PRESIUNE: ğŸ“Š "1013" "Presiune (hPa)"
â””â”€ VIZIBILITATE: ğŸ‘ï¸ "10" "Vizibilitate (km)"
ğŸ“ˆ GRAFICUL PROGNOZÄ‚ 8 ORE:


Width: 100% main content
Height: 400px
Background: var(--bg-secondary)
Padding: 24px

Header:
â”œâ”€ Titlu: "ğŸ“ˆ PrognozÄƒ VÃ¢nt 8 Ore" (20px, semi-bold)
â”œâ”€ Subtitle: "UrmÄƒtoarele 8 ore â€¢ ActualizÄƒri la fiecare 3 ore"
â”‚  Font: 14px, var(--text-secondary)

Chart Area:
â”œâ”€ Width: 100% minus padding
â”œâ”€ Height: 280px
â”œâ”€ Grid: Horizontal lines la 20, 40, 60, 80, 100, 120 km/h
â”œâ”€ Axes:
â”‚  â”œâ”€ X: "Now", "21:00", "22:00", "23:00", "00:00", "01:00", "02:00", "03:00"
â”‚  â””â”€ Y: 0, 20, 40, 60, 80, 100, 120 (km/h)

Linii:
â”œâ”€ ALBASTRU CONTINUU: Viteza vÃ¢ntului
â”‚  â”œâ”€ Color: var(--accent-blue)
â”‚  â”œâ”€ Stroke-width: 3px
â”‚  â””â”€ Puncte: cercuri 6px la fiecare orÄƒ
â”œâ”€ ALBASTRU PUNCTAT: Rafale vÃ¢nt  
â”‚  â”œâ”€ Color: var(--accent-blue)
â”‚  â”œâ”€ Stroke-dasharray: "5,5"
â”‚  â””â”€ Puncte: cercuri 4px
â””â”€ GALBEN PUNCTAT: Pragul personal
   â”œâ”€ Color: var(--accent-yellow)
   â”œâ”€ Stroke-dasharray: "10,5"
   â”œâ”€ Horizontal line la valoarea pragului
   â””â”€ Label: "Prag de AlertÄƒ: XX km/h"

IntersecÈ›ii cu pragul:
â”œâ”€ Cercuri roÈ™ii (8px) unde linia albastrÄƒ intersecteazÄƒ pragul
â”œâ”€ Zona umbritÄƒ roÈ™ie Ã®ntre linie È™i prag cÃ¢nd > prag
â””â”€ Tooltip hover cu valori exacte

LegendÄƒ (bottom):
"â€”â€” Viteza VÃ¢ntului  - - - Rafale de VÃ¢nt  - - - Prag de AlertÄƒ"
ğŸ“Š TIMELINE DETALIAT (sub grafic):


Width: 100% chart width
Height: 60px  
Background: var(--bg-tertiary)
Border-radius: 6px (bottom only)

Layout: Grid 8 colonne (pentru 8 ore)
ColoanÄƒ template:
â”œâ”€ Timp: "Now", "21:00", etc. (12px, var(--text-secondary))
â”œâ”€ VitezÄƒ: "50 km/h" (16px, font-weight 600)
â”‚  Color: verde dacÄƒ < prag, roÈ™u dacÄƒ > prag
â”œâ”€ Status: "AlertÄƒ" sau "Normal" (10px)
â”‚  Badge cu background roÈ™u/verde
â””â”€ Hover effect: uÈ™oarÄƒ mÄƒrire È™i glow
ğŸ”§ SIDEBAR SETÄ‚RI (dreapta, 25% din viewport):


Width: 300px (fixed)
Background: var(--bg-primary)
Padding: 20px
Gap: 24px Ã®ntre secÈ›iuni

SECÈšIUNEA 1 - "ğŸ”” SetÄƒri NotificÄƒri":
â”œâ”€ Titlu: 18px, semi-bold, margin-bottom 16px
â””â”€ Cards pentru fiecare tip notificare

NOTIFICÄ‚RI PUSH BROWSER:
â”œâ”€ Toggle switch: 
â”‚  â”œâ”€ Width: 48px, height: 24px
â”‚  â”œâ”€ Background: var(--accent-green) cÃ¢nd ON
â”‚  â”œâ”€ Thumb: 20px circle, white
â”‚  â””â”€ Smooth transition 0.3s
â”œâ”€ Text: "PrimeÈ™te alerte instantanee Ã®n browser cÃ¢nd sunt 
â”‚         prognosticate vÃ¢nturi periculoase" (14px)
â”œâ”€ Status: "âœ… NotificÄƒrile push sunt activate" (12px, verde)
â””â”€ Buton test: "âœ… Trimite Notificare de Test"
   â”œâ”€ Width: 100%, height: 40px
   â”œâ”€ Background: var(--bg-tertiary)
   â”œâ”€ Color: var(--text-primary)
   â”œâ”€ Border: 1px solid var(--border-color)
   â””â”€ Hover: background lightens

ALERTE SMS:
â”œâ”€ Toggle switch: identical cu push
â”œâ”€ Text: "PrimeÈ™te alerte prin mesaje text chiar È™i cÃ¢nd nu eÈ™ti online"
â”œâ”€ Input telefon:
â”‚  â”œâ”€ Placeholder: "NumÄƒr de Telefon"  
â”‚  â”œâ”€ Value: "+40765442365"
â”‚  â”œâ”€ Width: 100%, height: 44px
â”‚  â”œâ”€ Background: var(--bg-tertiary)
â”‚  â”œâ”€ Border: 1px solid var(--border-color)
â”‚  â”œâ”€ Color: var(--text-primary)
â”‚  â””â”€ Focus: border-color: var(--accent-blue)
â”œâ”€ Help text: "Introdu numÄƒrul Ã®n format romÃ¢nesc cu prefix +40 (ex: +40765442365)"
â”‚  Font: 12px, var(--text-muted)
â””â”€ Buton: "ConfigureazÄƒ SMS"
   â”œâ”€ Background: var(--accent-blue)
   â”œâ”€ Color: white
   â”œâ”€ Height: 40px
   â””â”€ Hover effect: background darkens

ALERTE EMAIL:
â”œâ”€ Toggle switch: identical
â”œâ”€ Text: "PrimeÈ™te alerte detaliate prin email cu recomandÄƒri de siguranÈ›Äƒ"
â”œâ”€ Input email:
â”‚  â”œâ”€ Placeholder: "AdresÄƒ de Email"
â”‚  â”œâ”€ Value: "plusucplus@gmail.com"  
â”‚  â”œâ”€ Styling: identical cu input telefon
â”œâ”€ Buton: "ConfigureazÄƒ Email"
â”‚  â”œâ”€ Background: var(--accent-green)
â”‚  â”œâ”€ Color: white
â”‚  â””â”€ Styling: identical cu buton SMS
â”œâ”€ Info text: "Alertele sunt trimise cÃ¢nd vitezele vÃ¢ntului depÄƒÈ™esc pragul 
â”‚              configurat. Te poÈ›i dezabona oricÃ¢nd din orice tip de notificare."
â”‚  Font: 12px, var(--text-muted), line-height 1.4
â””â”€ Status: "âœ… NotificÄƒri Push activate" (12px, verde)
ğŸ”— FOOTER:


Height: 80px
Background: var(--bg-secondary)  
Border-top: 1px solid var(--border-color)
Padding: 20px
Text-align: center

Content (stacked vertical, 12px font):
â”œâ”€ "ğŸŒ Date furnizate de OpenWeatherMap â€¢ ActualizÄƒri la fiecare 5 minute"
â”œâ”€ "ğŸ¢ Construit pentru siguranÈ›a È™i liniÈ™tea sufleteascÄƒ Ã®n zona Grand Arena, BucureÈ™ti"  
â””â”€ "âš¡ Powered by Bogdan pentru Loredana"
Color: var(--text-muted)
ğŸ“± RESPONSIVE BEHAVIOR:


Desktop (>1200px): Layout complet 75%/25%
Tablet (768-1200px): Stack vertical, sidebar jos
Mobile (<768px): Single column, grafic compactat
================================================================================
SERVICIUL RESEND PENTRU TOATE NOTIFICÄ‚RILE
ğŸ”§ RESEND INTEGRATION COMPLETÄ‚:

CONFIGURARE RESEND:


// Resend API pentru TOATE tipurile de notificÄƒri
const RESEND_CONFIG = {
  apiKey: process.env.RESEND_API_KEY,
  baseUrl: 'https://api.resend.com',
  from: 'Wind Monitor <alerte@wind-monitor-bucuresti.ro>',
  
  // Resend suportÄƒ È™i SMS prin integrÄƒri
  smsProvider: 'resend', // NU Twilio
  emailLimits: {
    free: 3000, // emails per month
    paid: 50000 // pentru upgrade viitor
  }
};

class ResendNotificationService {
  
  // EMAIL prin Resend (primar)
  async sendEmailAlert(userEmail: string, alertData: AlertData): Promise<void> {
    const emailTemplate = this.generateEmailTemplate(alertData);
    
    await fetch('https://api.resend.com/emails', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.RESEND_API_KEY}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        from: 'Wind Monitor <alerte@wind-monitor-bucuresti.ro>',
        to: [userEmail],
        subject: `âš ï¸ ${alertData.title}`,
        html: emailTemplate.html,
        text: emailTemplate.text
      })
    });
  }
  
  // SMS prin Resend (dacÄƒ suportat) sau provider secundar
  async sendSMSAlert(phoneNumber: string, message: string): Promise<void> {
    // Resend pentru SMS (verificÄƒ disponibilitate)
    // Sau fallback la provider gratuit SMS
    const shortMessage = this.generateSMSMessage(message);
    
    // Implementare SMS prin Resend sau alternative gratuite
    await this.sendSMSViaResend(phoneNumber, shortMessage);
  }
  
  // WEB PUSH prin service worker
  async sendPushAlert(userId: string, alertData: AlertData): Promise<void> {
    const pushPayload = {
      title: alertData.title,
      body: alertData.aiMessage,
      icon: '/icons/wind-alert.png',
      badge: '/icons/badge.png',
      data: { 
        url: '/dashboard',
        alertId: alertData.id,
        timestamp: new Date().toISOString()
      }
    };
    
    await this.pushToUser(userId, pushPayload);
  }
  
  // IN-APP notifications prin database
  async createInAppAlert(userId: string, alertData: AlertData): Promise<void> {
    await prisma.notification.create({
      data: {
        userId,
        type: 'WIND_ALERT',
        title: alertData.title,
        content: alertData.aiMessage,
        metadata: alertData,
        readAt: null
      }
    });
  }
}
EMAIL TEMPLATE RESEND:


<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AlertÄƒ VÃ¢nt PreventivÄƒ</title>
</head>
<body style="font-family: Arial, sans-serif; background: #1a1d29; color: #f1f5f9; margin: 0; padding: 20px;">
  <div style="max-width: 600px; margin: 0 auto; background: #2a2d3a; border-radius: 8px; overflow: hidden;">
    
    <!-- Header cu logo -->
    <div style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); padding: 30px; text-align: center;">
      <img src="{{LOGO_URL}}" alt="Grand Arena Wind Monitor" style="width: 60px; height: 60px; margin-bottom: 10px;">
      <h1 style="margin: 0; font-size: 24px; color: white;">âš ï¸ ALERTÄ‚ VÃ‚NT PREVENTIVÄ‚</h1>
      <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.9;">Monitor VÃ¢nt Aleea SomeÈ™ul Cald, BucureÈ™ti</p>
    </div>
    
    <!-- Mesaj AI principal -->
    <div style="padding: 30px; border-left: 4px solid #f59e0b;">
      <h2 style="color: #f59e0b; font-size: 20px; margin: 0 0 15px 0;">{{AI_MESSAGE}}</h2>
      
      <!-- Detalii prognozÄƒ -->
      <div style="background: #374151; padding: 20px; border-radius: 6px; margin: 20px 0;">
        <h3 style="color: #f1f5f9; margin: 0 0 15px 0;">ğŸ“Š Detalii PrognozÄƒ:</h3>
        <table style="width: 100%; color: #f1f5f9;">
          <tr>
            <td style="padding: 5px 0;">ğŸ• Timp pÃ¢nÄƒ la eveniment:</td>
            <td style="font-weight: bold; text-align: right;">{{HOURS_UNTIL}} ore</td>
          </tr>
          <tr>
            <td style="padding: 5px 0;">ğŸ’¨ Viteza maximÄƒ prognosticatÄƒ:</td>
            <td style="font-weight: bold; text-align: right; color: #ef4444;">{{PEAK_SPEED}} km/h</td>
          </tr>
          <tr>
            <td style="padding: 5px 0;">âš ï¸ Pragul tÄƒu personal:</td>
            <td style="font-weight: bold; text-align: right; color: #f59e0b;">{{USER_THRESHOLD}} km/h</td>
          </tr>
          <tr>
            <td style="padding: 5px 0;">ğŸ“ LocaÈ›ie:</td>
            <td style="font-weight: bold; text-align: right;">Aleea SomeÈ™ul Cald, BucureÈ™ti</td>
          </tr>
          <tr>
            <td style="padding: 5px 0;">â° Perioada criticÄƒ:</td>
            <td style="font-weight: bold; text-align: right;">{{CRITICAL_PERIOD}}</td>
          </tr>
        </table>
      </div>
      
      <!-- RecomandÄƒri -->
      <div style="background: #1f2937; padding: 20px; border-radius: 6px; border-left: 4px solid #10b981;">
        <h3 style="color: #10b981; margin: 0 0 15px 0;">ğŸ›¡ï¸ RecomandÄƒri de SiguranÈ›Äƒ:</h3>
        <ul style="margin: 0; padding-left: 20px; line-height: 1.6;">
          <li>Adu plantele È™i obiectele de pe balcon Ã®nÄƒuntru</li>
          <li>VerificÄƒ Ã®nchiderea ferestrelor È™i uÈ™ilor</li>
          <li>EvitÄƒ deplasÄƒrile Ã®n perioada criticÄƒ</li>
          <li>Èšine telefonul Ã®ncÄƒrcat pentru situaÈ›ii de urgenÈ›Äƒ</li>
          <li>MonitorizeazÄƒ actualizÄƒrile meteo</li>
        </ul>
      </div>
      
      <!-- Buton acÈ›iune -->
      <div style="text-align: center; margin: 30px 0;">
        <a href="{{APP_URL}}/dashboard" style="display: inline-block; background: #3b82f6; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold;">
          ğŸ“Š Vezi Prognoza CompletÄƒ
        </a>
      </div>
    </div>
    
    <!-- Footer -->
    <div style="background: #1f2937; padding: 20px; text-align: center; font-size: 12px; color: #94a3b8;">
      <p style="margin: 0 0 10px 0;">
        <strong>Monitor VÃ¢nt Aleea SomeÈ™ul Cald</strong><br>
        Sistem preventiv de alerte meteorologice pentru BucureÈ™ti
      </p>
      <p style="margin: 0;">
        Pentru dezabonare sau modificare setÄƒri, 
        <a href="{{APP_URL}}/settings" style="color: #3b82f6;">acceseazÄƒ aplicaÈ›ia</a>
      </p>
    </div>
    
  </div>
</body>
</html>
SMS TEMPLATE (prin Resend):


ğŸŒªï¸ ALERTÄ‚ VÃ‚NT: {{AI_MESSAGE_SHORT}}

â° Ãn {{HOURS}}h: {{PEAK_SPEED}} km/h
âš ï¸ Pragul tÄƒu: {{THRESHOLD}} km/h

PregÄƒteÈ™te balconul din timp!
Detalii: {{SHORT_URL}}

STOP pentru dezabonare
================================================================================
PROGNOZÄ‚ 8 ORE - IMPLEMENTARE TEHNICÄ‚
ğŸ”® SERVICIUL DE PROGNOZÄ‚ 8 ORE:


interface HourlyForecastPoint {
  timestamp: Date;
  hour: string;        // "Now", "21:00", "22:00", etc.
  windSpeed: number;   // km/h
  windGust: number;    // km/h  
  windDirection: number; // degrees
  temperature: number; // Â°C
  humidity: number;    // %
  pressure: number;    // hPa
}

class EightHourForecastService {
  
  // EXACT 8 ORE prognozÄƒ (ca wind.qub3.uk)
  async getNext8Hours(): Promise<HourlyForecastPoint[]> {
    const now = new Date();
    const forecast: HourlyForecastPoint[] = [];
    
    // GenereazÄƒ 8 puncte de date (acum + urmÄƒtoarele 7 ore)
    for (let i = 0; i < 8; i++) {
      const targetTime = new Date(now.getTime() + i * 60 * 60 * 1000);
      const hourData = await this.getForecastForHour(targetTime);
      
      forecast.push({
        timestamp: targetTime,
        hour: i === 0 ? "Now" : targetTime.toLocaleTimeString('ro-RO', { 
          hour: '2-digit', 
          minute: '2-digit' 
        }),
        ...hourData
      });
    }
    
    return forecast;
  }
  
  async getForecastForHour(targetTime: Date): Promise<Partial<HourlyForecastPoint>> {
    // Combine data din ambii provideri pentru acurateÈ›e maximÄƒ
    const [openWeatherData, openMeteoData] = await Promise.allSettled([
      this.getOpenWeatherHourly(targetTime),
      this.getOpenMeteoHourly(targetTime)
    ]);
    
    // Merge È™i valideazÄƒ datele
    return this.mergeForecastData(openWeatherData, openMeteoData);
  }
  
  // AnalizÄƒ preventivÄƒ pentru utilizator
  async analyzeUserRisk(userId: string): Promise<UserRiskAnalysis> {
    const user = await this.getUser(userId);
    const forecast = await this.getNext8Hours();
    const threshold = user.windThreshold;
    
    // GÄƒseÈ™te punctele care depÄƒÈ™esc pragul
    const exceedingPoints = forecast.filter(point => 
      Math.max(point.windSpeed, point.windGust) > threshold
    );
    
    if (exceedingPoints.length === 0) {
      return {
        hasRisk: false,
        userThreshold: threshold,
        forecast,
        riskLevel: 'safe'
      };
    }
    
    // CalculeazÄƒ detaliile riscului
    const firstExceed = exceedingPoints[0];
    const peakPoint = exceedingPoints.reduce((max, point) => 
      Math.max(point.windSpeed, point.windGust) > 
      Math.max(max.windSpeed, max.windGust) ? point : max
    );
    
    const hoursUntilRisk = (firstExceed.timestamp.getTime() - Date.now()) / (1000 * 60 * 60);
    
    return {
      hasRisk: true,
      userThreshold: threshold,
      forecast,
      riskLevel: this.calculateRiskLevel(peakPoint, threshold),
      firstExceedTime: firstExceed.timestamp,
      peakWindSpeed: Math.max(peakPoint.windSpeed, peakPoint.windGust),
      peakTime: peakPoint.timestamp,
      hoursUntilRisk: Math.round(hoursUntilRisk * 10) / 10,
      criticalPeriod: {
        start: exceedingPoints[0].timestamp,
        end: exceedingPoints[exceedingPoints.length - 1].timestamp
      },
      exceedingHours: exceedingPoints.length
    };
  }
}

interface UserRiskAnalysis {
  hasRisk: boolean;
  userThreshold: number;
  forecast: HourlyForecastPoint[];
  riskLevel: 'safe' | 'low' | 'moderate' | 'high' | 'extreme';
  firstExceedTime?: Date;
  peakWindSpeed?: number;
  peakTime?: Date;
  hoursUntilRisk?: number;
  criticalPeriod?: {
    start: Date;
    end: Date;
  };
  exceedingHours?: number;
}
API ENDPOINT PENTRU PROGNOZÄ‚:


// /api/forecast/8-hours
export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'Method not allowed' });
  }
  
  try {
    const userId = req.headers['x-user-id'] as string;
    const forecastService = new EightHourForecastService();
    
    // ObÈ›ine prognoza de 8 ore
    const forecast = await forecastService.getNext8Hours();
    
    // AnalizeazÄƒ riscul pentru utilizator (dacÄƒ e logat)
    let userRisk = null;
    if (userId) {
      userRisk = await forecastService.analyzeUserRisk(userId);
    }
    
    // Date pentru grafic
    const chartData = forecast.map(point => ({
      time: point.hour,
      windSpeed: point.windSpeed,
      windGust: point.windGust,
      timestamp: point.timestamp.toISOString()
    }));
    
    return res.status(200).json({
      forecast,
      chartData,
      userRisk,
      lastUpdate: new Date().toISOString(),
      location: 'Aleea SomeÈ™ul Cald, BucureÈ™ti'
    });
    
  } catch (error) {
    console.error('Forecast API error:', error);
    return res.status(500).json({ error: 'Failed to fetch forecast' });
  }
}
MONITORING AUTOMAT (Netlify Function):


// netlify/functions/8hour-monitor.ts
export const handler = schedule("*/10 * * * *", async () => {
  console.log('ğŸ” Verificare prognozÄƒ preventivÄƒ 8 ore...');
  
  try {
    const forecastService = new EightHourForecastService();
    const aiService = new MistralAIService();
    const notificationService = new ResendNotificationService();
    
    // ObÈ›ine toÈ›i utilizatorii activi
    const activeUsers = await getActiveUsers();
    console.log(`ğŸ‘¥ ${activeUsers.length} utilizatori activi`);
    
    const alertsSent = [];
    
    for (const user of activeUsers) {
      // AnalizeazÄƒ riscul pentru fiecare utilizator
      const riskAnalysis = await forecastService.analyzeUserRisk(user.id);
      
      if (riskAnalysis.hasRisk) {
        // VerificÄƒ dacÄƒ nu am trimis deja alertÄƒ pentru acest eveniment
        const existingAlert = await checkExistingAlert(user.id, riskAnalysis.firstExceedTime);
        
        if (!existingAlert) {
          // GenereazÄƒ mesaj AI preventiv
          const aiMessage = await aiService.generatePreventiveMessage({
            userThreshold: riskAnalysis.userThreshold,
            peakWindSpeed: riskAnalysis.peakWindSpeed!,
            hoursUntilRisk: riskAnalysis.hoursUntilRisk!,
            criticalPeriod: riskAnalysis.criticalPeriod!,
            riskLevel: riskAnalysis.riskLevel
          });
          
          // PregÄƒteÈ™te datele pentru notificare
          const alertData = {
            id: `alert_${user.id}_${Date.now()}`,
            title: 'AlertÄƒ VÃ¢nt PreventivÄƒ',
            aiMessage,
            hoursUntil: riskAnalysis.hoursUntilRisk!,
            peakSpeed: riskAnalysis.peakWindSpeed!,
            userThreshold: riskAnalysis.userThreshold,
            criticalPeriod: riskAnalysis.criticalPeriod!,
            riskLevel: riskAnalysis.riskLevel
          };
          
          // Trimite pe canalele activate
          await sendMultiChannelAlert(user, alertData, notificationService);
          
          // MarcheazÄƒ ca trimisÄƒ
          await markAlertAsSent(user.id, riskAnalysis.firstExceedTime!, alertData);
          
          alertsSent.push({ userId: user.id, riskLevel: riskAnalysis.riskLevel });
        }
      }
    }
    
    console.log(`âœ… ${alertsSent.length} alerte preventive trimise`);
    
    return {
      statusCode: 200,
      body: JSON.stringify({ 
        success: true, 
        alertsSent: alertsSent.length,
        details: alertsSent
      })
    };
    
  } catch (error) {
    console.error('âŒ Eroare monitoring 8 ore:', error);
    return { 
      statusCode: 500, 
      body: JSON.stringify({ error: error.message }) 
    };
  }
});

async function sendMultiChannelAlert(user: User, alertData: AlertData, service: ResendNotificationService) {
  const promises = [];
  
  // Email (prin Resend)
  if (user.emailNotifications && user.email) {
    promises.push(service.sendEmailAlert(user.email, alertData));
  }
  
  // SMS (prin Resend sau provider alternativ)
  if (user.smsNotifications && user.phone) {
    promises.push(service.sendSMSAlert(user.phone, alertData.aiMessage));
  }
  
  // Push notifications
  if (user.pushNotifications) {
    promises.push(service.sendPushAlert(user.id, alertData));
  }
  
  // In-app (Ã®ntotdeauna)
  promises.push(service.createInAppAlert(user.id, alertData));
  
  await Promise.allSettled(promises);
}
================================================================================
DEPLOYMENT È˜I CONFIGURARE FINALÄ‚
ğŸ”§ ENVIRONMENT VARIABLES COMPLETE:


# Database
DATABASE_URL=postgresql://user:pass@host:port/dbname
DIRECT_URL=postgresql://user:pass@host:port/dbname

# Weather APIs  
OPENWEATHER_API_KEY=your_openweather_api_key

# AI Service
OPENROUTER_API_KEY=your_openrouter_api_key

# RESEND pentru toate notificÄƒrile
RESEND_API_KEY=your_resend_api_key

# App Configuration
NEXT_PUBLIC_APP_URL=https://wind-monitor-bucuresti.netlify.app
NEXT_PUBLIC_LOGO_URL=https://wind-monitor-bucuresti.netlify.app/logo.png

# Security
NEXTAUTH_SECRET=your_random_secret_string
NEXTAUTH_URL=https://wind-monitor-bucuresti.netlify.app

# Development
NODE_ENV=production
ğŸ“¦ PACKAGE.JSON FINAL:


{
  "name": "wind-monitor-bucuresti",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "db:push": "prisma db push",
    "db:generate": "prisma generate",
    "db:studio": "prisma studio",
    "deploy": "netlify deploy --prod"
  },
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "typescript": "^5.0.0",
    "@prisma/client": "^5.0.0",
    "@netlify/functions": "^2.0.0",
    "tailwindcss": "^3.3.0",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0",
    "recharts": "^2.8.0",
    "date-fns": "^2.30.0",
    "@tanstack/react-query": "^4.36.0",
    "react-hook-form": "^7.45.0",
    "zod": "^3.22.0",
    "lucide-react": "^0.263.0",
    "resend": "^2.0.0"
  },
  "devDependencies": {
    "prisma": "^5.0.0",
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-dom": "^18.0.0",
    "eslint": "^8.45.0",
    "eslint-config-next": "^14.0.0"
  }
}
ğŸŒ NETLIFY.TOML FINAL:


[build]
  command = "npm run build"
  functions = "netlify/functions"
  publish = ".next"

[build.environment]
  NODE_VERSION = "18"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[functions]
  external_node_modules = ["sharp", "@prisma/client"]

# Scheduled functions pentru monitoring
[[edge_functions]]
  function = "real-time-updates"
  path = "/api/real-time/*"

# Headers pentru PWA
[[headers]]
  for = "/sw.js"
  [headers.values]
    Cache-Control = "no-cache"

[[headers]]
  for = "/manifest.json"  
  [headers.values]
    Content-Type = "application/manifest+json"

# Redirects
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200
ğŸ§ª TESTE DE ACCEPTANÈšÄ‚ FINALE:


âœ… Interface identicÄƒ cu wind.qub3.uk (pixel-perfect)
âœ… PrognozÄƒ EXACT 8 ore cu puncte orare afiÈ™ate Ã®n grafic
âœ… Slider prag personal (20-100 km/h) funcÈ›ional
âœ… Linia galbenÄƒ punctatÄƒ afiÈ™eazÄƒ pragul Ã®n grafic
âœ… CÃ¢nd prognozÄƒ > prag â†’ alertÄƒ preventivÄƒ trimisÄƒ
âœ… Mesaje AI amuzante È™i preventive Ã®n romÃ¢nÄƒ
âœ… Resend pentru email, SMS, push, in-app notifications
âœ… Timeline detaliat sub grafic cu 8 puncte orare
âœ… Cards meteo (temp, umiditate, presiune, vizibilitate)
âœ… Responsive design pentru mobile/tablet/desktop
âœ… Logo Grand Arena integrat Ã®n toate template-urile
âœ… Dark theme identical cu wind.qub3.uk
âœ… Netlify Functions pentru monitoring automat
âœ… Multiple utilizatori cu praguri independente
================================================================================
CONCLUZIE FINALÄ‚
ğŸ¯ APLICAÈšIA FINALÄ‚ ESTE O CLONÄ‚ EXACTÄ‚ https://wind.qub3.uk/ CU:

âœ… PROGNOZÄ‚ 8 ORE PREVENTIVÄ‚ - identicÄƒ cu site-ul de referinÈ›Äƒ
âœ… INTERFAÈšÄ‚ PIXEL-PERFECT - reproducere exactÄƒ design, culori, layout
âœ… ALERTE PERSONALIZATE - fiecare utilizator Ã®È™i seteazÄƒ propriul prag
âœ… AI MISTRAL INTEGRATION - mesaje preventive amuzante Ã®n romÃ¢nÄƒ
âœ… RESEND PENTRU TOT - email, SMS, push, in-app prin Resend API
âœ… LOGO GRAND ARENA - integrat Ã®n toatÄƒ aplicaÈ›ia
âœ… MULTI-USER SUPPORT - utilizatori multipli cu setÄƒri independente
âœ… DEPLOYMENT NETLIFY - hosting gratuit cu funcÈ›ii serverless

DIFERENÈšA CHEIE: Nu alerteazÄƒ cÃ¢nd vÃ¢ntul bate tare ACUM, ci alerteazÄƒ
cu ORE ÃNAINTE cÃ¢nd prognoza aratÄƒ cÄƒ VA bate tare Ã®n viitor!

Utilizatorii vor primi:
"ATENÈšIE! Ãn 3 ore vÃ¢ntul va atinge 67 km/h! Natura pregÄƒteÈ™te un concert de fluier! ğŸµ Adu plantele Ã®nÄƒuntru din timp!"

================================================================================
END OF COMPLETE SPECIFICATION

undefined